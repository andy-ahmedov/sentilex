# Sentilex: Анализ тональности

Проект **Sentilex** предназначен для интеллектуального анализа текста и определения эмоциональной окраски (тональности) загруженных документов. Веб-интерфейс предоставляет удобный способ загрузить .txt-файл, указать параметры анализа и получить результат в виде текстового файла с разметкой и графика распределения тональности по тексту.

## Структура проекта

```bash
ProjectX/
├── Dockerfile
├── requirements.txt
├── app.py
├── scripts/
│   ├── functions.py
│   └── RuSentilex-2017.txt
├── templates/
│   ├── upload.html
│   └── results.html
├── uploads/       # Создаётся при запуске (для загружаемых файлов)
└── results/       # Создаётся при запуске (для выходных данных)
```

## Основные файлы
* `Dockerfile`
Описывает среду для сборки Docker-образа (установка `Python`, необходимых библиотек и копирование исходников).

* `requirements.txt`
Список `Python`-зависимостей (`Flask`, `numpy`, `pandas`, `nltk` и др.).

* `app.py`
Главный файл приложения `Flask`. Здесь определяются все маршруты:

  * `/` для загрузки файла,

  * `/results/<filename>` для отображения результатов,

  * `/download/<filename>` для скачивания файлов,

  * `/display/<filename>` (для inline-просмотра изображений),

  * а также вспомогательные функции.

* `scripts/functions.py`
Логика обработки текста, вычисления тональности, построения графика и сохранения результатов.

* `templates/upload.html` и `templates/results.html`
HTML-шаблоны, используемые Flask для рендеринга страниц загрузки и результатов соответственно.

* `uploads/`
Папка, куда складываются загруженные пользователем файлы.

* `results/`
Папка, где сохраняются результаты анализа (текстовые файлы и графики).

## Скриншоты
Ниже представлены скриншоты веб-интерфейса.

### Страница загрузки файла
![Страница загрузки файла](https://s.iimg.su/s/01/5stbaIWulpRlbX2lQoCJckrW4sXJMl0PQTqsjQgj.png)

### Страница результатов
![Страница результатов](https://s.iimg.su/s/01/lwF7ZexFJpUMPIRc3mZN6SJZO3cWCGWSy4tppum1.png)

## Установка и запуск

1. ### Локальный запуск (без `Docker`)
   * Убедитесь, что у вас установлен `Python 3.10`+ (либо другая совместимая версия).
   * Установите зависимости:
     ```bash
     pip install -r requirements.txt
     ```
   * Запустите Flask-приложение:
     ```bash
     python app.py
     ``` 
   * Перейдите в браузере по адресу http://127.0.0.1:5000

2. ### Сборка и запуск в `Docker`
   * Сборка Docker-образа:
      ```bash
      docker build -t sentilex_v10 .
      ```
      Эта команда выполнит инструкции в `Dockerfile`, соберёт образ с именем `sentilex_v10` и установит все необходимые зависимости.
   * Запуск контейнера:
      ```bash
      docker run -p 5000:5000 sentilex_v10
      ```
      Здесь:
      `-p 5000:5000` перенаправляет порт 5000 контейнера на порт 5000 хоста, чтобы к приложению можно было обратиться по адресу http://localhost:5000.
   * Использование:
      * Откройте http://localhost:5000 в браузере.
      * Загрузите .txt-файл и укажите параметры анализа (например, «Размер фрагмента»).
      * После анализа вы будете перенаправлены на страницу результатов, где сможете:
        * Скачать текстовый файл с результатами.
        * Скачать или просмотреть график распределения тональности.


## Примечания
* Файл `RuSentilex-2017.txt` (в папке `scripts/`) содержит словарь тонально окрашенных слов и используется для вычисления эмоциональной окраски предложений.
* Папки `uploads/` и `results/` создаются автоматически при запуске приложения, если их нет.
* При желании вы можете дополнительно кастомизировать стили в файлах `templates/upload.html` и `templates/results.html`, чтобы добиться нужного внешнего вида.

## Лицензия
(При необходимости добавьте информацию о лицензии или условиях использования проекта.)
